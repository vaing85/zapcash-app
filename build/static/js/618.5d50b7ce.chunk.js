"use strict";(self.webpackChunkzappay=self.webpackChunkzappay||[]).push([[618],{2618:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var a=r(5043),s=r(5475),i=r(3216),o=r(1816),n=r(4538),l=r(9399),d=r(579);const c=()=>{const[e]=(0,s.ok)(),t=(0,i.Zp)(),[r,c]=(0,a.useState)("loading"),[x,g]=(0,a.useState)(""),[m,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),y=e.get("token"),f=e.get("email");(0,a.useEffect)(()=>{y?b(y):(c("error"),g("No verification token provided"))},[y]);const b=async e=>{try{c("loading"),g("Verifying your email...");const r=await fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://zappayapp-ie9d2.ondigitalocean.app","/api/auth/verify-email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}),a=await r.json();a.success?(c("success"),g("Email verified successfully! You can now log in to your account."),setTimeout(()=>{t("/login?verified=true")},3e3)):(c("error"),g(a.message||"Verification failed. The token may be invalid or expired."))}catch(r){console.error("Email verification error:",r),c("error"),g("Network error. Please check your connection and try again.")}};return(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center px-4",children:(0,d.jsx)("div",{className:"max-w-md w-full",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("div",{className:"mx-auto w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mb-4",children:(0,d.jsx)("span",{className:"text-2xl font-bold text-white",children:"\u26a1"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Email Verification"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"loading"===r?"Please wait...":"Complete your account setup"})]}),(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("div",{className:"flex justify-center mb-4",children:(()=>{switch(r){case"loading":return(0,d.jsx)(o.A,{className:"w-16 h-16 text-yellow-500 animate-spin"});case"success":return(0,d.jsx)(n.A,{className:"w-16 h-16 text-green-500"});case"error":case"expired":return(0,d.jsx)(l.A,{className:"w-16 h-16 text-red-500"});default:return null}})()}),(0,d.jsx)("p",{className:"text-lg font-medium ".concat((()=>{switch(r){case"loading":return"text-yellow-600";case"success":return"text-green-600";case"error":case"expired":return"text-red-600";default:return"text-gray-600"}})()),children:x})]}),"success"===r&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,d.jsx)("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"\ud83c\udf89 Your email has been verified! You'll be redirected to the login page shortly."})}),(0,d.jsx)(s.N_,{to:"/login?verified=true",className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-white font-semibold py-3 px-4 rounded-lg hover:from-yellow-500 hover:to-orange-600 transition-all duration-200 text-center block",children:"Go to Login"})]}),"error"===r&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,d.jsx)("p",{className:"text-red-800 dark:text-red-200 text-sm",children:x})}),f&&(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("button",{onClick:async()=>{if(f)try{u(!0),p("");const e=await fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://zappayapp-ie9d2.ondigitalocean.app","/api/auth/resend-verification"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f})}),t=await e.json();t.success?p("Verification email sent! Please check your inbox."):p(t.message||"Failed to resend verification email.")}catch(e){console.error("Resend verification error:",e),p("Network error. Please try again later.")}finally{u(!1)}else p("Email address not found. Please try registering again.")},disabled:m,className:"w-full bg-blue-500 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center",children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.A,{className:"w-5 h-5 mr-2 animate-spin"}),"Sending..."]}):"Resend Verification Email"}),h&&(0,d.jsx)("p",{className:"text-sm text-center ".concat(h.includes("sent")?"text-green-600":"text-red-600"),children:h})]}),(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsx)(s.N_,{to:"/register",className:"flex-1 bg-gray-500 text-white font-semibold py-3 px-4 rounded-lg hover:bg-gray-600 transition-all duration-200 text-center",children:"Try Again"}),(0,d.jsx)(s.N_,{to:"/login",className:"flex-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white font-semibold py-3 px-4 rounded-lg hover:from-yellow-500 hover:to-orange-600 transition-all duration-200 text-center",children:"Login"})]})]}),"loading"===r&&(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("div",{className:"animate-pulse",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mx-auto mb-2"}),(0,d.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mx-auto"})]})}),(0,d.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:(0,d.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Having trouble? Check your spam folder or"," ",(0,d.jsx)(s.N_,{to:"/contact-support",className:"text-yellow-600 hover:text-yellow-700",children:"contact support"})]})})]})})})}},4538:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(45),s=r(5043);const i=["title","titleId"];function o(e,t){let{title:r,titleId:o}=e,n=(0,a.A)(e,i);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},n),r?s.createElement("title",{id:o},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const n=s.forwardRef(o)}}]);
//# sourceMappingURL=618.5d50b7ce.chunk.js.map