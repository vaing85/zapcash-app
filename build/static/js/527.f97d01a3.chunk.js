"use strict";(self.webpackChunkzappay=self.webpackChunkzappay||[]).push([[527],{6527:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ae});var o=r(9379),a=r(5043),n=r(6692),i=r(5895),l=r(1244),s=r(6128),c=r(2097),d=r(172),p=r(2579),m=r(45),u=r(9292),v=r(1807),x=r(2620),h=r(9192),b=r(9857),A=r(6061);function y(e){return(0,A.Ay)("MuiStepper",e)}(0,b.A)("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);var f=r(7194),j=r(1612);const g=a.createContext({});const S=g,C=a.createContext({});const L=C;function k(e){return(0,A.Ay)("MuiStepConnector",e)}(0,b.A)("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);var I=r(579);const w=["className"],z=(0,x.Ay)("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.alternativeLabel&&t.alternativeLabel,r.completed&&t.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),N=(0,x.Ay)("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.line,t["line".concat((0,f.A)(r.orientation))]]}})((0,j.A)(e=>{let{theme:t}=e;const r="light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600];return{display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:r,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),M=a.forwardRef(function(e,t){const r=(0,h.b)({props:e,name:"MuiStepConnector"}),{className:n}=r,i=(0,m.A)(r,w),{alternativeLabel:l,orientation:s="horizontal"}=a.useContext(S),{active:c,disabled:d,completed:p}=a.useContext(L),x=(0,o.A)((0,o.A)({},r),{},{alternativeLabel:l,orientation:s,active:c,completed:p,disabled:d}),b=(e=>{const{classes:t,orientation:r,alternativeLabel:o,active:a,completed:n,disabled:i}=e,l={root:["root",r,o&&"alternativeLabel",a&&"active",n&&"completed",i&&"disabled"],line:["line","line".concat((0,f.A)(r))]};return(0,v.A)(l,k,t)})(x);return(0,I.jsx)(z,(0,o.A)((0,o.A)({className:(0,u.A)(b.root,n),ref:t,ownerState:x},i),{},{children:(0,I.jsx)(N,{className:b.line,ownerState:x})}))}),R=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],P=(0,x.Ay)("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.alternativeLabel&&t.alternativeLabel,r.nonLinear&&t.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),T=(0,I.jsx)(M,{}),B=a.forwardRef(function(e,t){const r=(0,h.b)({props:e,name:"MuiStepper"}),{activeStep:n=0,alternativeLabel:i=!1,children:l,className:s,component:c="div",connector:d=T,nonLinear:p=!1,orientation:x="horizontal"}=r,b=(0,m.A)(r,R),A=(0,o.A)((0,o.A)({},r),{},{nonLinear:p,alternativeLabel:i,orientation:x,component:c}),f=(e=>{const{orientation:t,nonLinear:r,alternativeLabel:o,classes:a}=e,n={root:["root",t,r&&"nonLinear",o&&"alternativeLabel"]};return(0,v.A)(n,y,a)})(A),j=a.Children.toArray(l).filter(Boolean),g=j.map((e,t)=>a.cloneElement(e,(0,o.A)({index:t,last:t+1===j.length},e.props))),C=a.useMemo(()=>({activeStep:n,alternativeLabel:i,connector:d,nonLinear:p,orientation:x}),[n,i,d,p,x]);return(0,I.jsx)(S.Provider,{value:C,children:(0,I.jsx)(P,(0,o.A)((0,o.A)({as:c,ownerState:A,className:(0,u.A)(f.root,s),ref:t},b),{},{children:g}))})});function D(e){return(0,A.Ay)("MuiStep",e)}(0,b.A)("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const F=["active","children","className","component","completed","disabled","expanded","index","last"],V=(0,x.Ay)("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.alternativeLabel&&t.alternativeLabel,r.completed&&t.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),U=a.forwardRef(function(e,t){const r=(0,h.b)({props:e,name:"MuiStep"}),{active:n,children:i,className:l,component:s="div",completed:c,disabled:d,expanded:p=!1,index:x,last:b}=r,A=(0,m.A)(r,F),{activeStep:y,connector:f,alternativeLabel:j,orientation:g,nonLinear:C}=a.useContext(S);let[k=!1,w=!1,z=!1]=[n,c,d];y===x?k=void 0===n||n:!C&&y>x?w=void 0===c||c:!C&&y<x&&(z=void 0===d||d);const N=a.useMemo(()=>({index:x,last:b,expanded:p,icon:x+1,active:k,completed:w,disabled:z}),[x,b,p,k,w,z]),M=(0,o.A)((0,o.A)({},r),{},{active:k,orientation:g,alternativeLabel:j,completed:w,disabled:z,expanded:p,component:s}),R=(e=>{const{classes:t,orientation:r,alternativeLabel:o,completed:a}=e,n={root:["root",r,o&&"alternativeLabel",a&&"completed"]};return(0,v.A)(n,D,t)})(M),P=(0,I.jsxs)(V,(0,o.A)((0,o.A)({as:s,className:(0,u.A)(R.root,l),ref:t,ownerState:M},A),{},{children:[f&&j&&0!==x?f:null,i]}));return(0,I.jsx)(L.Provider,{value:N,children:f&&!j&&0!==x?(0,I.jsxs)(a.Fragment,{children:[f,P]}):P})});var W=r(4057);const H=(0,W.A)((0,I.jsx)("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),E=(0,W.A)((0,I.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");var O=r(1994);function _(e){return(0,A.Ay)("MuiStepIcon",e)}const J=(0,b.A)("MuiStepIcon",["root","active","completed","error","text"]),Y=["active","className","completed","error","icon"];var q;const G=(0,x.Ay)(O.A,{name:"MuiStepIcon",slot:"Root"})((0,j.A)(e=>{let{theme:t}=e;return{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,["&.".concat(J.completed)]:{color:(t.vars||t).palette.primary.main},["&.".concat(J.active)]:{color:(t.vars||t).palette.primary.main},["&.".concat(J.error)]:{color:(t.vars||t).palette.error.main}}})),K=(0,x.Ay)("text",{name:"MuiStepIcon",slot:"Text"})((0,j.A)(e=>{let{theme:t}=e;return{fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}})),Q=a.forwardRef(function(e,t){const r=(0,h.b)({props:e,name:"MuiStepIcon"}),{active:a=!1,className:n,completed:i=!1,error:l=!1,icon:s}=r,c=(0,m.A)(r,Y),d=(0,o.A)((0,o.A)({},r),{},{active:a,completed:i,error:l}),p=(e=>{const{classes:t,active:r,completed:o,error:a}=e,n={root:["root",r&&"active",o&&"completed",a&&"error"],text:["text"]};return(0,v.A)(n,_,t)})(d);if("number"===typeof s||"string"===typeof s){const e=(0,u.A)(n,p.root);return l?(0,I.jsx)(G,(0,o.A)({as:E,className:e,ref:t,ownerState:d},c)):i?(0,I.jsx)(G,(0,o.A)({as:H,className:e,ref:t,ownerState:d},c)):(0,I.jsxs)(G,(0,o.A)((0,o.A)({className:e,ref:t,ownerState:d},c),{},{children:[q||(q=(0,I.jsx)("circle",{cx:"12",cy:"12",r:"12"})),(0,I.jsx)(K,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:d,children:s})]}))}return s});function X(e){return(0,A.Ay)("MuiStepLabel",e)}const Z=(0,b.A)("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]);var $=r(9905);const ee=["children","className","componentsProps","error","icon","optional","slots","slotProps","StepIconComponent","StepIconProps"],te=(0,x.Ay)("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation]]}})({display:"flex",alignItems:"center",["&.".concat(Z.alternativeLabel)]:{flexDirection:"column"},["&.".concat(Z.disabled)]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),re=(0,x.Ay)("span",{name:"MuiStepLabel",slot:"Label"})((0,j.A)(e=>{let{theme:t}=e;return(0,o.A)((0,o.A)({},t.typography.body2),{},{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),["&.".concat(Z.active)]:{color:(t.vars||t).palette.text.primary,fontWeight:500},["&.".concat(Z.completed)]:{color:(t.vars||t).palette.text.primary,fontWeight:500},["&.".concat(Z.alternativeLabel)]:{marginTop:16},["&.".concat(Z.error)]:{color:(t.vars||t).palette.error.main}})})),oe=(0,x.Ay)("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,["&.".concat(Z.alternativeLabel)]:{paddingRight:0}}),ae=(0,x.Ay)("span",{name:"MuiStepLabel",slot:"LabelContainer"})((0,j.A)(e=>{let{theme:t}=e;return{width:"100%",color:(t.vars||t).palette.text.secondary,["&.".concat(Z.alternativeLabel)]:{textAlign:"center"}}})),ne=a.forwardRef(function(e,t){const r=(0,h.b)({props:e,name:"MuiStepLabel"}),{children:n,className:i,componentsProps:l={},error:s=!1,icon:c,optional:d,slots:p={},slotProps:x={},StepIconComponent:b,StepIconProps:A}=r,y=(0,m.A)(r,ee),{alternativeLabel:f,orientation:j}=a.useContext(S),{active:g,disabled:C,completed:k,icon:w}=a.useContext(L),z=c||w;let N=b;z&&!N&&(N=Q);const M=(0,o.A)((0,o.A)({},r),{},{active:g,alternativeLabel:f,completed:k,disabled:C,error:s,orientation:j}),R=(e=>{const{classes:t,orientation:r,active:o,completed:a,error:n,disabled:i,alternativeLabel:l}=e,s={root:["root",r,n&&"error",i&&"disabled",l&&"alternativeLabel"],label:["label",o&&"active",a&&"completed",n&&"error",i&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",o&&"active",a&&"completed",n&&"error",i&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]};return(0,v.A)(s,X,t)})(M),P={slots:p,slotProps:(0,o.A)((0,o.A)({stepIcon:A},l),x)},[T,B]=(0,$.A)("root",{elementType:te,externalForwardedProps:(0,o.A)((0,o.A)({},P),y),ownerState:M,ref:t,className:(0,u.A)(R.root,i)}),[D,F]=(0,$.A)("label",{elementType:re,externalForwardedProps:P,ownerState:M}),[V,U]=(0,$.A)("stepIcon",{elementType:N,externalForwardedProps:P,ownerState:M});return(0,I.jsxs)(T,(0,o.A)((0,o.A)({},B),{},{children:[z||V?(0,I.jsx)(oe,{className:R.iconContainer,ownerState:M,children:(0,I.jsx)(V,(0,o.A)({completed:k,active:g,error:s,icon:z},U))}):null,(0,I.jsxs)(ae,{className:R.labelContainer,ownerState:M,children:[n?(0,I.jsx)(D,(0,o.A)((0,o.A)({},F),{},{className:(0,u.A)(R.label,null===F||void 0===F?void 0:F.className),children:n})):null,d]})]}))});ne.muiName="StepLabel";const ie=ne;var le=r(6803),se=r(3023),ce=r(1911),de=r(8776),pe=r(5877);const me=(0,W.A)((0,I.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description");var ue=r(3201);const ve=(0,W.A)([(0,I.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,I.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt"),xe=(0,W.A)((0,I.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),he=(0,W.A)((0,I.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");var be=r(1191);const Ae=e=>{let{onVerificationComplete:t,onClose:r}=e;const[m,u]=(0,a.useState)(0),[v,x]=(0,a.useState)({type:"passport",frontImage:null,backImage:null,selfieImage:null,documentNumber:""}),[h,b]=(0,a.useState)(!1),[A,y]=(0,a.useState)("pending"),[f,j]=(0,a.useState)(null),[g,S]=(0,a.useState)(null),[C,L]=(0,a.useState)(null),k=(0,a.useRef)(null),w=(0,a.useRef)(null),z=["Select Document Type","Upload Front Image","Upload Back Image","Take Selfie","Enter Document Number","Verification"],N=[{value:"passport",label:"Passport",icon:(0,I.jsx)(me,{})},{value:"drivers_license",label:"Driver's License",icon:(0,I.jsx)(me,{})},{value:"national_id",label:"National ID",icon:(0,I.jsx)(me,{})}],M=(e,t)=>{if(!e)return;if(!e.type.startsWith("image/"))return void j("Please upload a valid image file");if(e.size>5242880)return void j("File size must be less than 5MB");const r=new FileReader;r.onload=e=>{var r;const a=null===(r=e.target)||void 0===r?void 0:r.result;x(e=>(0,o.A)((0,o.A)({},e),{},{[t]:a})),j(null)},r.readAsDataURL(e)},R=e=>{w.current&&w.current.click()},P=(e,t)=>{var r;const o=null===(r=e.target.files)||void 0===r?void 0:r[0];o&&M(o,t)},T=e=>{x(t=>(0,o.A)((0,o.A)({},t),{},{documentNumber:e.target.value}))},D=(e,t)=>{S(e),L(t)},F=async()=>{b(!0),y("verifying"),j(null);try{const e=await fetch("/api/compliance/kyc/verify-document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"current-user-id",documentData:{documentType:v.type,documentNumber:v.documentNumber,frontImage:v.frontImage,backImage:v.backImage,selfieImage:v.selfieImage}})}),r=await e.json();r.success?(y("approved"===r.verification.status?"approved":"rejected"),t(r)):(j(r.message||"Verification failed"),y("rejected"))}catch(e){j("Network error. Please try again."),y("rejected")}finally{b(!1)}};return(0,I.jsxs)(n.A,{children:[(0,I.jsxs)(n.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,I.jsxs)(i.A,{variant:"h5",children:[(0,I.jsx)(be.A,{sx:{mr:1,verticalAlign:"middle"}}),"Identity Verification"]}),(0,I.jsx)(p.A,{onClick:r,children:(0,I.jsx)(he,{})})]}),(0,I.jsx)(B,{activeStep:m,sx:{mb:4},children:z.map(e=>(0,I.jsx)(U,{children:(0,I.jsx)(ie,{children:e})},e))}),f&&(0,I.jsx)(le.A,{severity:"error",sx:{mb:3},children:f}),(0,I.jsx)(l.A,{children:(0,I.jsx)(s.A,{children:(()=>{var e,t,r;switch(m){case 0:return(0,I.jsxs)(n.A,{children:[(0,I.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Select Document Type"}),(0,I.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Choose the type of identity document you want to verify"}),(0,I.jsx)(n.A,{display:"flex",flexDirection:"column",gap:2,children:N.map(e=>(0,I.jsx)(l.A,{sx:{cursor:"pointer",border:v.type===e.value?2:1,borderColor:v.type===e.value?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>{return t=e.value,x(e=>(0,o.A)((0,o.A)({},e),{},{type:t})),void j(null);var t},children:(0,I.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.icon,(0,I.jsx)(i.A,{variant:"h6",children:e.label}),v.type===e.value&&(0,I.jsx)(ue.A,{color:"primary"})]})},e.value))})]});case 1:return(0,I.jsxs)(n.A,{children:[(0,I.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Upload Front Image"}),(0,I.jsxs)(i.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:["Take a clear photo of the front of your ",null===(e=N.find(e=>e.value===v.type))||void 0===e?void 0:e.label]}),(0,I.jsx)(n.A,{display:"flex",flexDirection:"column",gap:2,children:v.frontImage?(0,I.jsxs)(n.A,{children:[(0,I.jsx)("img",{src:v.frontImage,alt:"Front document",style:{width:"100%",maxWidth:400,height:"auto",borderRadius:8},onClick:()=>D(v.frontImage,"Front Image")}),(0,I.jsxs)(n.A,{display:"flex",gap:1,mt:1,children:[(0,I.jsx)(c.A,{variant:"outlined",startIcon:(0,I.jsx)(ve,{}),onClick:()=>R(),children:"Retake"}),(0,I.jsx)(c.A,{variant:"outlined",startIcon:(0,I.jsx)(xe,{}),onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},children:"Upload Different"})]})]}):(0,I.jsxs)(n.A,{sx:{border:2,borderStyle:"dashed",borderColor:"divider",borderRadius:2,p:4,textAlign:"center",cursor:"pointer","&:hover":{borderColor:"primary.main"}},onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},children:[(0,I.jsx)(xe,{sx:{fontSize:48,color:"text.secondary",mb:2}}),(0,I.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Upload Front Image"}),(0,I.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Click to upload or drag and drop"}),(0,I.jsx)(c.A,{variant:"outlined",startIcon:(0,I.jsx)(ve,{}),sx:{mt:2},onClick:e=>{e.stopPropagation(),R()},children:"Take Photo"})]})})]});case 2:return(0,I.jsxs)(n.A,{children:[(0,I.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Upload Back Image"}),(0,I.jsxs)(i.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:["Take a clear photo of the back of your ",null===(t=N.find(e=>e.value===v.type))||void 0===t?void 0:t.label]}),(0,I.jsx)(n.A,{display:"flex",flexDirection:"column",gap:2,children:v.backImage?(0,I.jsxs)(n.A,{children:[(0,I.jsx)("img",{src:v.backImage,alt:"Back document",style:{width:"100%",maxWidth:400,height:"auto",borderRadius:8},onClick:()=>D(v.backImage,"Back Image")}),(0,I.jsxs)(n.A,{display:"flex",gap:1,mt:1,children:[(0,I.jsx)(c.A,{variant:"outlined",startIcon:(0,I.jsx)(ve,{}),onClick:()=>R(),children:"Retake"}),(0,I.jsx)(c.A,{variant:"outlined",startIcon:(0,I.jsx)(xe,{}),onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},children:"Upload Different"})]})]}):(0,I.jsxs)(n.A,{sx:{border:2,borderStyle:"dashed",borderColor:"divider",borderRadius:2,p:4,textAlign:"center",cursor:"pointer","&:hover":{borderColor:"primary.main"}},onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},children:[(0,I.jsx)(xe,{sx:{fontSize:48,color:"text.secondary",mb:2}}),(0,I.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Upload Back Image"}),(0,I.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Click to upload or drag and drop"}),(0,I.jsx)(c.A,{variant:"outlined",startIcon:(0,I.jsx)(ve,{}),sx:{mt:2},onClick:e=>{e.stopPropagation(),R()},children:"Take Photo"})]})})]});case 3:return(0,I.jsxs)(n.A,{children:[(0,I.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Take Selfie"}),(0,I.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Take a clear selfie for identity verification"}),(0,I.jsx)(n.A,{display:"flex",flexDirection:"column",gap:2,children:v.selfieImage?(0,I.jsxs)(n.A,{children:[(0,I.jsx)("img",{src:v.selfieImage,alt:"Selfie",style:{width:"100%",maxWidth:300,height:"auto",borderRadius:8},onClick:()=>D(v.selfieImage,"Selfie")}),(0,I.jsx)(n.A,{display:"flex",gap:1,mt:1,children:(0,I.jsx)(c.A,{variant:"outlined",startIcon:(0,I.jsx)(ve,{}),onClick:()=>R(),children:"Retake"})})]}):(0,I.jsxs)(n.A,{sx:{border:2,borderStyle:"dashed",borderColor:"divider",borderRadius:2,p:4,textAlign:"center",cursor:"pointer","&:hover":{borderColor:"primary.main"}},onClick:()=>R(),children:[(0,I.jsx)(ve,{sx:{fontSize:48,color:"text.secondary",mb:2}}),(0,I.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Take Selfie"}),(0,I.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Click to take a photo with your camera"})]})})]});case 4:return(0,I.jsxs)(n.A,{children:[(0,I.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Enter Document Number"}),(0,I.jsxs)(i.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:["Enter the document number from your ",null===(r=N.find(e=>e.value===v.type))||void 0===r?void 0:r.label]}),(0,I.jsx)(n.A,{component:"form",noValidate:!0,children:(0,I.jsx)("input",{type:"text",value:v.documentNumber,onChange:T,placeholder:"Enter document number",style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"16px"}})})]});case 5:return(0,I.jsxs)(n.A,{textAlign:"center",children:[(0,I.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Verification in Progress"}),"verifying"===A&&(0,I.jsxs)(n.A,{children:[(0,I.jsx)(d.A,{size:60,sx:{mb:2}}),(0,I.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Verifying your documents..."})]}),"approved"===A&&(0,I.jsxs)(n.A,{children:[(0,I.jsx)(ue.A,{sx:{fontSize:60,color:"success.main",mb:2}}),(0,I.jsx)(i.A,{variant:"h6",color:"success.main",gutterBottom:!0,children:"Verification Successful!"}),(0,I.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Your identity has been verified successfully."})]}),"rejected"===A&&(0,I.jsxs)(n.A,{children:[(0,I.jsx)(he,{sx:{fontSize:60,color:"error.main",mb:2}}),(0,I.jsx)(i.A,{variant:"h6",color:"error.main",gutterBottom:!0,children:"Verification Failed"}),(0,I.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Please try again with clearer images."})]})]});default:return null}})()})}),(0,I.jsxs)(n.A,{display:"flex",justifyContent:"space-between",mt:3,children:[(0,I.jsx)(c.A,{disabled:0===m,onClick:()=>{j(null),u(e=>e-1)},children:"Back"}),(0,I.jsx)(c.A,{variant:"contained",onClick:()=>{0!==m||v.type?1!==m||v.frontImage?2!==m||v.backImage?3!==m||v.selfieImage?4!==m||v.documentNumber?(j(null),u(e=>e+1),4===m&&F()):j("Please enter your document number"):j("Please take a selfie for verification"):j("Please upload the back image of your document"):j("Please upload the front image of your document"):j("Please select a document type")},disabled:h||"verifying"===A,children:m===z.length-1?"Complete":"Next"})]}),(0,I.jsx)("input",{type:"file",ref:k,style:{display:"none"},accept:"image/*",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&(1===m&&M(r,"frontImage"),2===m&&M(r,"backImage"))}}),(0,I.jsx)("input",{type:"file",ref:w,style:{display:"none"},accept:"image/*",capture:"environment",onChange:e=>{var t;(null===(t=e.target.files)||void 0===t?void 0:t[0])&&(1===m&&P(e,"frontImage"),2===m&&P(e,"backImage"),3===m&&P(e,"selfieImage"))}}),(0,I.jsxs)(se.A,{open:!!g,onClose:()=>S(null),maxWidth:"md",children:[(0,I.jsx)(ce.A,{children:C}),(0,I.jsx)(de.A,{children:g&&(0,I.jsx)("img",{src:g,alt:"Preview",style:{width:"100%",height:"auto"}})}),(0,I.jsx)(pe.A,{children:(0,I.jsx)(c.A,{onClick:()=>S(null),children:"Close"})})]})]})}}}]);
//# sourceMappingURL=527.f97d01a3.chunk.js.map